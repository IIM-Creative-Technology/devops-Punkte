FROM node:lts-buster

ARG DB_USER
ARG DB_PASSWORD
ARG DB_HOST
ARG DB_SCHEMA
ARG YOUTUBE_API_KEY

ENV DB_USER=$DB_USER
ENV DB_PASSWORD=$DB_PASSWORD
ENV DB_HOST=$DB_HOST
ENV DB_SCHEMA=$DB_SCHEMA
ENV YOUTUBE_API_KEY=$YOUTUBE_API_KEY

WORKDIR /app

COPY package*.json ./

RUN npm install

COPY . .

CMD [ "npm" , "run", "start"]